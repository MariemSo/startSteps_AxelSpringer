<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Task 6: Movies List</title>
  </head>
  <body>
    <h1>Movies List</h1>

    <!-- Task 3 HTML goes here
       Add:
       1. A dropdown (select) element for different genres (id="genreSelect") -->
    <select id="genreSelect">
      <option value="">Select Genre</option>
      <option value="Sci-Fi">Sci-Fi</option>
      <option value="Crime">Crime</option>
      <option value="Action">Action</option>
      <option value="Drama">Drama</option>
      <option value="Fantasy">Fantasy</option>
    </select>
    <ul id="moviesList"></ul>
    <script>
      // Task 3 JavaScript code goes here
      // Step 1: Create an array of movie objects, each with a title and genre. At least 10 movies.
      const movies = [
        { title: "Inception", genre: "Sci-Fi" },
        { title: "The Godfather", genre: "Crime" },
        { title: "The Dark Knight", genre: "Action" },
        { title: "Pulp Fiction", genre: "Crime" },
        { title: "Forrest Gump", genre: "Drama" },
        { title: "The Matrix", genre: "Sci-Fi" },
        { title: "The Shawshank Redemption", genre: "Drama" },
        { title: "Interstellar", genre: "Sci-Fi" },
        { title: "Fight Club", genre: "Drama" },
        {
          title: "The Lord of the Rings: The Return of the King",
          genre: "Fantasy",
        },
      ];
      // Step 2: Get the dropdown and <ul> element by their IDs.
      const genreSelect = document.getElementById("genreSelect");
      const moviesList = document.getElementById("moviesList");
      // Step 3: Create a function to display the movies in the list.
      function displayMovies(r) {
        moviesList.innerHTML = "";
        r.forEach((movie) => {
          const listItem = document.createElement("li");
          listItem.textContent = `${movie.title}-${movie.genre}`;
          console.log(listItem.textContent);
          moviesList.appendChild(listItem);
        });
      }
      displayMovies(movies);
      // Step 4: Create a function to check if a movie's genre matches the selected genre.
      function genreCheck(genre) {
        return movies.filter((movie) => {
          return movie.genre === genre;
        });
      }
      // Step 5: Add an event listener to the dropdown to filter and display movies when changed.
      genreSelect.addEventListener("change", (e) => {
        let result = genreCheck(e.target.value);
        if (result != "") {
          displayMovies(result);
        } else {
          displayMovies(movies);
        }
      });
    </script>
  </body>
</html>
